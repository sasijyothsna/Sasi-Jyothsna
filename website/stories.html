<!DOCTYPE html>

<html>
    <head>
        <meta charset="UTF-8">
        <title>Tell your experience</title>
        <link rel="stylesheet" href="form_style.css">
    </head>

    <body>

        <script>
            let stories=[];
            const addmovie = (ev) =>{
                //ev.preventDefault();
                let story={
                    name:document.getElementById("name").value,
                    email:document.getElementById("email").value,
                    role:document.getElementById("role").value,
                    exp:document.getElementById("exp").value
                }
                stories.push(story);
                document.forms[0].reset();

                console.warn('added',{stories});
                localStorage.setItem('/experiences.json',JSON.stringify(stories) );
            }
            document.addEventListener('DOMContedLoaded',()=>{
                document.getElementById("btn").addEventListener('click',addstory);
            });

            window.onload = function validateemail()  
            {  
                let x=document.getElementsByName("email").value;
                console.log(x);
                var atposition=x.indexOf("@");  
                var dotposition=x.lastIndexOf(".");  
                if (atposition<1 || dotposition<atposition+2 || dotposition+2>=x.length)
                    {  
                        alert("Please enter a valid e-mail address");  
                        return false;  
                    }  
            }
            /**function validate() 
            {
                console.log('hello');
                console.log(document.getElementById("name").value + "name");
                if(name==""){
                    alert("Please enter the name");
                    return false;
                }
                var email = document.form["form"]["email"].value;
                if(email==""){
                    alert("Please enter the email");
                    return false;
                }
                else{
                    var re = /^(?:[a-z0-9!#$%&amp;'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&amp;'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/;
                    var x=re.test(email);
                    if(x){
                    }else{
                    alert("Email id not in correct format");
                    return false;
                    } 
                } 
                var mobile = document.form["form"]["mobile"].value;
                if(mobile==""){
                    alert("Please enter the mobile");
                    return false;
                }
                else{
                    if(isNaN(mobile)){
                    alert("Mobile number not valid");
                    return false;
                }
                } 
                var address = document.form["form"]["address"].value;
                if(address==""){
                    alert("Please enter the address");
                    return false;
                }
                }**/

        </script>


        <div class="left">
            <h1 style="color:rgb(80, 135, 255);">Add your experience</h1>
            <form name="form">
                <div class="txt_field">
                    <input type="text" id="name" name="" required>
                    <span></span>
                    <label>Name</label>
                </div>
                <div class="txt_field">
                    <input type="text" id="email"  name="email"  required>
                    <span></span>
                    <label>Email ID</label>
                </div>
                <div class="txt_field">
                    <input type="text" id="role" name="" required>
                    <span></span>
                    <label>role</label>
                </div>
                <div class="txt_field">
                    <input type="text" id="exp" name="" required>
                    <span></span>
                    <label>experience</label>
                </div>
                <div>
                <button id="btn" onclick="addmovie(); validateemail();">Submit</button>
                </div>
            </form>
        </div>

        

        

    </body>

</html>
